# PokemonUltimate.MoveDebugger

Specialized debugger for testing moves multiple times and collecting comprehensive statistics.

## Purpose

This debugger focuses specifically on **Moves**:
- Move power and category (Physical/Special/Status)
- Type effectiveness against different targets
- STAB (Same Type Attack Bonus) verification
- Accuracy and priority values
- Move effects and their application
- **Multiple test runs** with statistical analysis
- **Action tracking** - See what actions the move generates
- **Easy to configure** - Edit static variables at the top of `Program.cs`

## Configuration

Edit `Program.cs` to configure your test:

```csharp
// Movimiento que quieres probar
static MoveData MoveToTest = MoveCatalog.Thunderbolt;

// Pokemon que usa el movimiento
static PokemonSpeciesData AttackerPokemon = PokemonCatalog.Pikachu;

// Pokemon contra el que probar el movimiento
static PokemonSpeciesData TargetPokemon = PokemonCatalog.Charmander;

// Nivel de ambos Pokemon
static int Level = 50;

// Número de pruebas a ejecutar
static int NumberOfTests = 100;

// Modo detallado (true) o resumen (false)
static bool DetailedOutput = false;
```

## Quick Start

### Run Multiple Tests (Summary Mode)

```bash
dotnet run --project PokemonUltimate.MoveDebugger
```

This will run 100 tests (default) and show comprehensive statistics.

### Run Single Test (Detailed Mode)

Set `DetailedOutput = true` and `NumberOfTests = 1`:

```bash
dotnet run --project PokemonUltimate.MoveDebugger
```

## Features

### Move Information Display

At the start, shows:
- Move name, type, power, category
- Accuracy, PP, priority
- **Move effects** - Lists all effects the move has with descriptions

### Damage Statistics

After multiple tests:
- **Average damage** - Mean damage across all successful hits
- **Min/Max damage** - Damage range
- **Median damage** - Middle value
- **Critical hit rate** - Percentage of critical hits
- **Miss rate** - Percentage of misses

### Status Effect Statistics

Tracks:
- **Persistent status effects** caused (Burn, Paralysis, Sleep, Poison, etc.)
- **Volatile status effects** caused (Flinch, Confusion, LeechSeed, etc.)
- Count and percentage for each effect

### Action Generation Statistics

Tracks all actions generated by the move:
- **DamageAction** - When damage is dealt
- **ApplyStatusAction** - When status effects are applied
- **MessageAction** - Battle messages
- **HealAction** - Healing effects
- **StatChangeAction** - Stat modifications
- And more...

Shows:
- Total actions generated
- Frequency of each action type
- Percentage of tests that generated each action

### Type Effectiveness

Shows:
- Calculated type effectiveness multiplier
- Expected vs observed damage averages

## Example Output

```
═══════════════════════════════════════════════════════════════
INFORMACIÓN DEL MOVIMIENTO:
═══════════════════════════════════════════════════════════════
Movimiento: Thunderbolt
  Tipo: Electric
  Poder: 90
  Categoría: Special
  Precisión: 100%
  PP: 15
  Prioridad: 0

  Efectos del movimiento:
    - Status: 10% chance to apply Paralysis.

Efectividad de Tipo: Normal (1x)

═══════════════════════════════════════════════════════════════
ESTADÍSTICAS:
═══════════════════════════════════════════════════════════════

DAÑO:
  Total de golpes exitosos: 95 / 100
  Daño promedio: 45.2 HP
  Daño mínimo: 38 HP
  Daño máximo: 53 HP
  Daño mediano: 45 HP
  Golpes críticos: 5 (5.3% de los golpes exitosos)
  Fallos: 5 (5.0% del total)

EFECTOS DE ESTADO CAUSADOS:
  Total: 10 efectos en 100 pruebas
  Paralysis: 10 veces (10.0%)

ACCIONES GENERADAS:
  Total de acciones generadas: 205
  Message: 100 veces (100.0% de las pruebas)
  Damage: 95 veces (95.0% de las pruebas)
  ApplyStatus: 10 veces (10.0% de las pruebas)

EFECTIVIDAD:
  Efectividad de tipo: 1.00x
  Daño promedio observado: 45.2 HP
```

## Detailed Mode

When `DetailedOutput = true`, each test shows:
- Damage dealt
- Critical hit indicator
- Miss indicator
- **All actions generated** with details:
  - Action type
  - Specific details (damage amount, status applied, etc.)
- Status effects caused
- Volatile status effects caused

## Use Cases

### Verify Move Power
Test a move multiple times to verify average damage matches expected calculations.

### Test Status Effects
Verify status effect chance percentages by running many tests.

### Analyze Move Behavior
See what actions a move generates and how frequently.

### Compare Moves
Run tests with different moves against the same target to compare effectiveness.

### Debug Move Effects
When a move isn't working as expected, run multiple tests to see patterns.

## Architecture

- **Program.cs**: Main entry point with configuration and statistics collection
- Uses `UseMoveAction` to execute moves
- Tracks all `BattleAction` instances generated
- Collects statistics across multiple test runs

## Notes

- Tests are deterministic (same Pokemon, same level, same move)
- Random factors (critical hits, status effect chances) create variation
- Statistics help identify patterns and verify expected behavior
- Action tracking shows exactly what the move does in combat
